(function(t){t.fn.jPaginate=function(e){var a={items:4,next:"Next",previous:"Previous",active:"active",pagination_class:"pagination",minimize:!1,nav_items:6,cookies:!0,position:"after",equal:!1,offset:50};return e=t.extend(a,e),this.each(function(){function a(i){obj.children().hide(),f[i].show()}function n(t){var a,n,r="",c="";a="<div class='"+e.pagination_class+"'><ul>";var s="<li><a class='goto_previous' href='#'>"+e.previous+"</a></li>",l="<li><a class='goto_next' href='#'>"+e.next+"</a></li>",f="<li class='disabled'><span>"+e.previous+"</span></li>",v="<li class='disabled'><span>"+e.next+"</span></li>",n="</ul></div>";u-e.after+1;var h=o(t);if(u>1){for(i=1;u>=i;i++)if(e.minimize===!0){var d=Math.ceil(u/2);i>=h.start&&h.end>=i?r+=i==t?'<li class="'+e.active+'"><a class="current" title="'+i+'">'+i+"</a></li>":'<li><a href="#" class="goto" title="'+i+'">'+i+"</a></li>":d>=t?i>=u-2&&(r+=i==t?'<li class="'+e.active+'"><a class="current" title="'+i+'">'+i+"</a></li>":'<li><a href="#" class="goto" title="'+i+'">'+i+"</a></li>"):t>=d&&2>=i&&(r+=i==t?'<li class="'+e.active+'"><a class="current" title="'+i+'">'+i+"</a></li>":'<li><a href="#" class="goto" title="'+i+'">'+i+"</a></li>")}else r+=i==t?'<li class="'+e.active+'"><a class="current" title="'+i+'">'+i+"</a></li>":'<li><a href="#" class="goto" title="'+i+'">'+i+"</a></li>";1!=t&&t!=u?c=a+s+r+l+n:1==u?c=a+f+r+v+n:t==u?c=a+s+r+v+n:1==t&&(c=a+f+r+l+n),"before"==e.position?obj.before(c):"after"==e.position?obj.after(c):(obj.after(c),obj.before(c))}}function r(i,t){var e=999,a=new Date;a.setDate(a.getDate()+e),document.cookie=i+"="+escape(t)+(null===e?"":";expires="+a.toUTCString())}function c(i){return document.cookie.length>0&&(c_start=document.cookie.indexOf(i+"="),-1!=c_start)?(c_start=c_start+i.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function o(i){var t=Math.floor(e.nav_items/2),a=u-e.nav_items,n=i>t?Math.max(Math.min(i-t,a),0):0,r=i>t?Math.min(i+t+e.nav_items%2,u):Math.min(e.nav_items,u);return{start:n,end:r}}obj=t(this);var s=e.items,l=obj.children().size(),u=Math.ceil(l/s),f=[],v=0,h=s,d=0,p=0;for(i=1;u>=i;i++)f[i]=obj.children().slice(v,h),e.equal&&(obj.children().slice(v,h).each(function(){d+=t(this).outerHeight()}),d>p&&(p=d),d=0),v+=s,h+=s;e.equal&&(p+=e.offset,obj.css({height:p})),e.cookies===!0?c("current")?(a(c("current")),n(c("current"))):(r("current","1"),a(c("current")),n(c("current"))):(a(1),n(1)),t(".goto").live("click",function(i){i.preventDefault(),a(t(this).attr("title")),r("current",t(this).attr("title")),t(".pagination").remove(),n(t(this).attr("title"))}),t(".goto_next").live("click",function(i){i.preventDefault(),"."+e.active;var c=parseInt(t(".pagination").find(".current").attr("title"))+1;r("current",c),a(c),t(".pagination").remove(),n(c)}),t(".goto_previous").live("click",function(i){i.preventDefault(),"."+e.active;var c=parseInt(t(".pagination").find(".current").attr("title"))-1;r("current",c),a(c),t(".pagination").remove(),n(c)})})}})(jQuery);
